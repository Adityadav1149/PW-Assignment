<!-- Continuing the previous coding challenge, now letâ€™s implement the add to cart feature. On calling add to
cart closure function, the object of productId, name, quantity and price should be added to the cartItem.
Note that if duplicate items with same prouductId is added, the product quantity must be incremented. Use
javascript closures to achieve the output. -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Question 4</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        font-family: Arial, Helvetica, sans-serif;
        box-sizing: border-box;
      }
      body {
        background-color: #414141;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        gap: 20px;
      }
      h1 {
        color: azure;
        text-transform: uppercase;
        font-size: 50px;
        margin: 30px 0;
        padding: 30px 0;
      }
      .blink {
        animation: blinker 1.5s linear infinite;
        color: red;
        font-family: sans-serif;
      }

      @keyframes blinker {
        50% {
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <marquee
      width="100%"
      behavior="scroll"
      direction="left"
      class="blink"
      scrollamount="6"
      behaviour="alternate"
      ><h1>Please open console for result.</h1></marquee
    >

    <img
      src="https://www.wishesmsg.com/wp-content/uploads/good-day-message.jpg"
      alt="Have a good day" />
  </body>

  <script>
    function createCart() {
      // The cart array is enclosed within this function's scope
      let cart = [];

      // Function to add an item to the cart
      function addToCart(item) {
        // Check if the product already exists in the cart
        const existingItem = cart.find(
          (cartItem) => cartItem.productId === item.productId
        );

        if (existingItem) {
          // If the product exists, increment the quantity
          existingItem.quantity += item.quantity;
        } else {
          // If the product does not exist, add it to the cart
          cart.push(item);
        }
      }

      // Function to get all items in the cart
      function getCartItems() {
        return cart;
      }

      // Return the functions to interact with the cart
      return {
        addToCart,
        getCartItems,
      };
    }

    // Create a new cart instance
    const cart = createCart();

    // Add items to the cart
    cart.addToCart({ productId: 1, name: "Laptop", quantity: 1, price: 1000 });
    cart.addToCart({ productId: 2, name: "Mouse", quantity: 2, price: 25 });
    cart.addToCart({ productId: 1, name: "Laptop", quantity: 1, price: 1000 }); // This should increment the quantity of the Laptop

    // Get the items in the cart
    console.log(cart.getCartItems());
  </script>
</html>
